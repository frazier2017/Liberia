install.packages("~/Documents/W_M/Fall_2016/Breaking_Intuition/lab_5/slam_0.1-37.tgz", repos = NULL, type = .Platform$pkgType)
library(wordcloud)
install.("wordcloud",dependecies=TRUE)
install.packages("wordcloud",dependecies=TRUE)
library(igraph)
library(wordcloud)
install.packages("wordcloud", dependencies = T)
library(igraph)
library(wordcloud)
rm(list=ls())
setwd("~/Documents/W_M/Fall_2016/Breaking_Intuition/lab_3")
library(raster)
library(rgdal)
library(rgeos)
library(ggmap)
library(sp)
library(maptools)
library(dplyr)
library(gridExtra)
f<-list.files(pattern="*.nc$",recursive=TRUE)
harvest_area<-stack(lapply(f, function(i) raster(i,band=1)))
maize<-raster("maize/maize_5min.nc")
harvest_area<-stack(lapply(f, function(i) raster(i,band=1)))
maize<-raster("maize/maize_5min.nc")
groundnut<-raster("groundnut/groundnut_5min.nc")
setwd("~/Documents/W_M/Fall_2016/Breaking_Intuition/lab_3")
lbr_0<-readRDS("lbr_adm0.RDS")
lbr_1<-readRDS("lbr_adm1.RDS")
lbr_2<-readRDS("lbr_adm2.RDS")
lbr_3<-readRDS("lbr_adm3.RDS")
rm(list=ls())
setwd("~/Documents/W_M/Year_1/2017_Summer/Monroe Project")
library(rgdal)
library(dplyr)
library(rgeos)
library(ggmap)
library(raster)
library(spatstat)
library(maptools)
library(sp)
library(foreign)
library(knitr)
library(gridExtra)
lbr_0<-readRDS("lbr_adm0.RDS")
lbr_1<-readRDS("lbr_adm1.RDS")
lbr_2<-readRDS("lbr_adm2.RDS")
lbr_3<-readRDS("lbr_adm3.RDS")
gwp4<-raster("gpw-v4-population-count_2010.tif")
load("lbr_0_gwp4.RData")
lbr_0_f<-fortify(lbr_0,region = "ID")
lbr_0@data$ID<-1:nrow(lbr_0@data)
lbr_0_f<-fortify(lbr_0,region = "ID")
View(lbr_0_f)
africa <- readOGR(dsn="shapefiles", layer="africa", stringsAsFactors=FALSE, verbose=FALSE)
country <- readOGR(dsn="shapefiles", layer="liberia_revised", stringsAsFactors=FALSE, verbose=FALSE)
counties <- readOGR(dsn="shapefiles", layer="counties", stringsAsFactors=FALSE, verbose=FALSE)
districts <- readOGR(dsn="shapefiles", layer="districts", stringsAsFactors=FALSE, verbose=FALSE)
clans <- readOGR(dsn="shapefiles", layer="clans", stringsAsFactors=FALSE, verbose=FALSE)
proj4string(counties)
country <- spTransform(country, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
counties <- spTransform(counties, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
districts <- spTransform(districts, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
clans <- spTransform(clans, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
africa <- subset(africa, Land_Type == "Primary land")
counties@data$SUM_HH[1]<-20508
districts@data[which(districts@data$FIRST_CCNA=="Bomi"),]$HHOLDS<-districts@data[which(districts@data$FIRST_CCNA=="Bomi"),]$TOTAL/(counties@data$SUM_TOTAL[1]/counties@data$SUM_HH[1])
clans@data[which(clans@data$FIRST_CCNA=="Bomi"),]$SUM_HH<-clans@data[which(clans@data$FIRST_CCNA=="Bomi"),]$SUM_TOTAL/(counties@data$SUM_TOTAL[1]/counties@data$SUM_HH[1])
clans@data[which(clans@data$FIRST_CCNA=="River Gee"),]$SUM_HH[29]<-clans@data[which(clans@data$FIRST_CCNA=="River Gee"),]$SUM_TOTAL[29]/mean(clans@data[which(clans@data$FIRST_CCNA=="River Gee"),]$SUM_TOTAL[c(1:28,30:45)]/clans@data[which(clans@data$FIRST_CCNA=="River Gee"),]$SUM_HH[c(1:28,30:45)])
africa_f <- fortify(africa)
country_f <- fortify(country)
counties_f <- fortify(counties)
districts_f <- fortify(districts)
clans_f <- fortify(clans)
View(lbr_0_f)
View(country_f)
data<-country@data
View(data)
data<-counties@data
View(data)
lbr_1_f<-fortify(lbr_1,region = "ID")
lbr_1@data$ID<-1:nrow(lbr_1@data)
lbr_1_f<-fortify(lbr_1,region = "ID")
View(lbr_1_f)
data<-left_join(data,lbr_1_f,by= c("id"="OBJECTID"))
data<-left_join(data,lbr_1_f,by= c("OBJECTID"="id"))
data$OBJECTID<-as.character(data$OBJECTID)
data<-left_join(data,lbr_1_f,by= c("OBJECTID"="id"))
View(data)
setwd("~/GitHub/Liberia")
setwd("~/GitHub/Liberia")
setwd("~/GitHub/Liberia")
rm(list=ls())
setwd("~/GitHub/Liberia")
library(rgdal)
library(dplyr)
library(rgeos)
library(ggmap)
library(raster)
library(spatstat)
library(maptools)
library(sp)
library(foreign)
library(knitr)
library(gridExtra)
country<-readOGR(dsn="shapefiles", layer="liberia_revised",stringsAsFactors=FALSE, verbose=FALSE)
counties<-readOGR(dsn = "shapefiles",layer="counties",stringsAsFactors = FALSE,verbose=FALSE)
districts<-readOGR(dsn="shapefiles",layer="districts", stringsAsFactors = FALSE,verbose = FALSE)
clans<-readOGR(dsn="shapefiles",layer="clans", stringsAsFactors = FALSE,verbose = FALSE)
proj4string(country)
proj4string(counties)
proj4string(districts)
proj4string(clans)
country<-spTransform(country, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
counties<-spTransform(counties, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
districts<-spTransform(districts, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
clans<-spTransform(clans, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
counties@data$SUM_HH[1]<-20508
districts@data[which(districts@data$FIRST_CCNA=="Bomi"),]$HHOLDS<-districts@data[which(districts@data$FIRST_CCNA=="Bomi"),]$TOTAL/(counties@data$SUM_TOTAL[1]/counties@data$SUM_HH[1])
clans@data[which(clans@data$FIRST_CCNA=="Bomi"),]$SUM_HH<-clans@data[which(clans@data$FIRST_CCNA=="Bomi"),]$SUM_TOTAL/(counties@data$SUM_TOTAL[1]/counties@data$SUM_HH[1])
clans@data[which(clans@data$FIRST_CCNA=="River Gee"),]$SUM_HH[29]<-clans@data[which(clans@data$FIRST_CCNA=="River Gee"),]$SUM_TOTAL[29]/mean(clans@data[which(clans@data$FIRST_CCNA=="River Gee"),]$SUM_TOTAL[c(1:28,30:45)]/clans@data[which(clans@data$FIRST_CCNA=="River Gee"),]$SUM_HH[c(1:28,30:45)])
country_f<-fortify(country)
counties_f<-fortify(counties)
districts_f<-fortify(districts)
clans_f<-fortify(clans)
View(clans_f)
rm(list=ls())
setwd("~/GitHub/Liberia")
lbr_0<-readOGR(dsn="shapefiles", layer="liberia_revised",stringsAsFactors=FALSE, verbose=FALSE)
lbr_1<-readOGR(dsn = "shapefiles",layer="counties",stringsAsFactors = FALSE,verbose=FALSE)
Lbr_2<-readOGR(dsn="shapefiles",layer="districts", stringsAsFactors = FALSE,verbose = FALSE)
lbr_3<-readOGR(dsn="shapefiles",layer="clans", stringsAsFactors = FALSE,verbose = FALSE)
proj4string(lbr_0)
proj4string(lbr_1)
proj4string(lbr_2)
proj4string(lbr_3)
lbr_0<-spTransform(lbr_0, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
lbr_1<-spTransform(lbr_1, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
lbr_2<-spTransform(lbr_2, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
lbr_3<-spTransform(lbr_3, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
lbr_0_f<-fortify(lbr_0)
lbr_1_f<-fortify(lbr_1)
lbr_2_f<-fortify(lbr_2)
lbr_3_f<-fortify(lbr_3)
lbr_2<-readOGR(dsn="shapefiles",layer="districts", stringsAsFactors = FALSE,verbose = FALSE)
lbr_2<-spTransform(lbr_2, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
lbr_2_f<-fortify(lbr_2)
rm(Lbr_2)
View(lbr_3_f)
lbr_1@data$OBJECTID<-as.character(lbr_1@data$OBJECTID)
lbr_1_f_shp<-left_join(x=lbr_1_f,y=lbr_1@data,by=c("id"="OBJECTID"))
lbr_2@data$OBJECTID<-as.character(lbr_2@data$OBJECTID)
View(lbr_2_f)
lbr_2@data$OBJECTID<-as.character(1:nrow(lbr_2@data))
lbr_2_f_shp<-left_join(x=lbr_2_f,y=lbr_2@data,by=c("id"="OBJECTID"))
View(lbr_2_f_shp)
View(lbr_1_f_shp)
View(lbr_1_f)
View(lbr_2_f)
rm(list=ls())
lbr_0<-readOGR(dsn="shapefiles", layer="liberia_revised",stringsAsFactors=FALSE, verbose=FALSE)
lbr_1<-readOGR(dsn = "shapefiles",layer="counties",stringsAsFactors = FALSE,verbose=FALSE)
lbr_2<-readOGR(dsn="shapefiles",layer="districts", stringsAsFactors = FALSE,verbose = FALSE)
lbr_3<-readOGR(dsn="shapefiles",layer="clans", stringsAsFactors = FALSE,verbose = FALSE)
proj4string(lbr_0)
proj4string(lbr_1)
proj4string(lbr_2)
proj4string(lbr_3)
lbr_0<-spTransform(lbr_0, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
lbr_1<-spTransform(lbr_1, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
lbr_2<-spTransform(lbr_2, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
lbr_3<-spTransform(lbr_3, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
lbr_0_f<-fortify(lbr_0)
lbr_1_f<-fortify(lbr_1)
lbr_2_f<-fortify(lbr_2)
lbr_3_f<-fortify(lbr_3)
lbr_1@data$SUM_HH[1]<-20508
lbr_2@data[which(lbr_2@data$FIRST_CCNA=="Bomi"),]$HHOLDS<-lbr_2@data[which(lbr_2@data$FIRST_CCNA=="Bomi"),]$TOTAL/(lbr_1@data$SUM_TOTAL[1]/lbr_1@data$SUM_HH[1])
lbr_3@data[which(lbr_3@data$FIRST_CCNA=="Bomi"),]$SUM_HH<-lbr_3@data[which(lbr_3@data$FIRST_CCNA=="Bomi"),]$SUM_TOTAL/(lbr_1@data$SUM_TOTAL[1]/lbr_1@data$SUM_HH[1])
lbr_3@data[which(lbr_3@data$FIRST_CCNA=="River Gee"),]$SUM_HH[29]<-lbr_3@data[which(lbr_3@data$FIRST_CCNA=="River Gee"),]$SUM_TOTAL[29]/mean(lbr_3@data[which(lbr_3@data$FIRST_CCNA=="River Gee"),]$SUM_TOTAL[c(1:28,30:45)]/lbr_3@data[which(lbr_3@data$FIRST_CCNA=="River Gee"),]$SUM_HH[c(1:28,30:45)])
lbr_1@data$ID<-as.character(c(0:14))
lbr_1_f_shp<-left_join(x=lbr_1_f,y=lbr_1@data,by=c("id"="ID"))
View(lbr_1_f_shp)
lbr_2@data$ID<-as.character(c(0:135))
lbr_2_f_shp<-left_join(x=lbr_2_f,y=lbr_2@data,by=c("id"="ID"))
lbr_3@data$ID<-as.character(c(0:815))
lbr_3_f_shp<-left_join(x=lbr_3_f,y=lbr_3@data,by=c("id"="ID"))
View(lbr_3_f_shp)
gwp4<-raster("gpw-v4-population-count_2010.tif")
gwp4<-raster("~Documents/W_M/Year_1/2017_Summer/Monroe_Project/gpw-v4-population-count_2010.tif")
gwp4<-raster("~/Documents/W_M/Year_1/2017_Summer/Monroe_Project/gpw-v4-population-count_2010.tif")
lbr_0_gwp4<-extract(gwp4,lbr_0,df=TRUE)
save(lbr_0_gwp4,file = "lbr_0_gwp4.RData")
View(lbr_0_gwp4)
lbr_1_gwp4<-extract(gwp4,lbr_1,df=TRUE)
save(lbr_1_gwp4,file = "lbr_1_gwp4.RData")
lbr_2_gwp4<-extract(gwp4,lbr_2,df=TRUE)
save(lbr_2_gwp4,file = "lbr_2_gwp4.RData")
lbr_3_gwp4<-extract(gwp4,lbr_3,df=TRUE)
save(lbr_3_gwp4,file = "lbr_3_gwp4.RData")
View(lbr_1_f_shp)
lbr_1_gwp4_totals<-aggregate(.~ID,lbr_1_gwp4,sum)
lbr_1_gwp4_totals$ID<-as.character(lbr_1_gwp4_totals$ID)
names(lbr_1_gwp4_totals)[2]<-"pop"
View(lbr_1_gwp4_totals)
View(lbr_1_f)
lbr_1_gwp4_totals<-aggregate(.~ID,lbr_1_gwp4,sum)
lbr_1_gwp4_totals$ID<-as.character((lbr_1_gwp4_totals$ID-1))
View(lbr_1_gwp4_totals)
View(lbr_1_f)
