install.packages("~/Documents/W_M/Fall_2016/Breaking_Intuition/lab_5/slam_0.1-37.tgz", repos = NULL, type = .Platform$pkgType)
library(wordcloud)
install.("wordcloud",dependecies=TRUE)
install.packages("wordcloud",dependecies=TRUE)
library(igraph)
library(wordcloud)
install.packages("wordcloud", dependencies = T)
library(igraph)
library(wordcloud)
rm(list=ls())
setwd("~/Documents/W_M/Fall_2016/Breaking_Intuition/lab_3")
library(raster)
library(rgdal)
library(rgeos)
library(ggmap)
library(sp)
library(maptools)
library(dplyr)
library(gridExtra)
f<-list.files(pattern="*.nc$",recursive=TRUE)
harvest_area<-stack(lapply(f, function(i) raster(i,band=1)))
maize<-raster("maize/maize_5min.nc")
harvest_area<-stack(lapply(f, function(i) raster(i,band=1)))
maize<-raster("maize/maize_5min.nc")
groundnut<-raster("groundnut/groundnut_5min.nc")
setwd("~/Documents/W_M/Fall_2016/Breaking_Intuition/lab_3")
rm(list=ls())
setwd("~/GitHub/Liberia")
library(rgdal)
library(dplyr)
library(rgeos)
library(ggmap)
library(raster)
library(spatstat)
library(maptools)
library(sp)
library(foreign)
library(knitr)
library(gridExtra)
library(rasterVis)
library(colorspace)
library(mapdata)
library(rgl)
library(scales)
country<-readOGR(dsn="shapefiles", layer="liberia_revised",stringsAsFactors=FALSE, verbose=FALSE)
cnty<-readOGR(dsn = "shapefiles",layer="counties",stringsAsFactors = FALSE,verbose=FALSE)
dist<-readOGR(dsn="shapefiles",layer="districts", stringsAsFactors = FALSE,verbose = FALSE)
clan<-readOGR(dsn="shapefiles",layer="clans", stringsAsFactors = FALSE,verbose = FALSE)
country<-spTransform(country, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
cnty<-spTransform(cnty, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
dist<-spTransform(dist, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
clan<-spTransform(clan, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
data_final<-merge(data,data2,by.x="long",by.y="lat")
rm(list=ls())
setwd("~/GitHub/Liberia")
library(rgdal)
library(dplyr)
library(rgeos)
library(ggmap)
library(raster)
library(spatstat)
library(maptools)
library(sp)
library(foreign)
library(knitr)
library(gridExtra)
library(rasterVis)
library(colorspace)
library(mapdata)
library(rgl)
library(scales)
country<-readOGR(dsn="shapefiles", layer="liberia_revised",stringsAsFactors=FALSE, verbose=FALSE)
cnty<-readOGR(dsn = "shapefiles",layer="counties",stringsAsFactors = FALSE,verbose=FALSE)
dist<-readOGR(dsn="shapefiles",layer="districts", stringsAsFactors = FALSE,verbose = FALSE)
clan<-readOGR(dsn="shapefiles",layer="clans", stringsAsFactors = FALSE,verbose = FALSE)
country<-spTransform(country, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
cnty<-spTransform(cnty, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
dist<-spTransform(dist, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
clan<-spTransform(clan, CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
country_f<-fortify(country)
cnty_f<-fortify(cnty)
dist_f<-fortify(dist)
clan_f<-fortify(clan)
cnty@data$SUM_HH[1]<-20508
gpw4_2000<-raster("~/GoogleDrive/LiberiaProject/gpw-v4-population-count_2000.tif")
gpw4_2000<-crop(gpw4_2000,extent(country))
gpw4_2000<-mask(gpw4_2000,country)
gpw4_2005<-raster("~/GoogleDrive/LiberiaProject/gpw-v4-population-count_2005.tif")
gpw4_2005<-crop(gpw4_2005,extent(country))
gpw4_2005<-mask(gpw4_2005,country)
gpw4_2010<-raster("~/GoogleDrive/LiberiaProject/gpw-v4-population-count_2010.tif")
gpw4_2010<-crop(gpw4_2010,extent(country))
gpw4_2010<-mask(gpw4_2010,country)
gpw4_2015<-raster("~/GoogleDrive/LiberiaProject/gpw-v4-population-count_2015.tif")
gpw4_2015<-crop(gpw4_2015,extent(country))
gpw4_2015<-mask(gpw4_2015,country)
growth_00_05<-overlay(gpw4_2000,gpw4_2005,fun=function(r1,r2){return((r2-r1)/r1)})
growth_05_10<-overlay(gpw4_2005,gpw4_2010,fun=function(r1,r2){return((r2-r1)/r1)})
growth_10_15<-overlay(gpw4_2010,gpw4_2015,fun=function(r1,r2){return((r2-r1)/r1)})
data<-cbind(xyFromCell(gpw4_2000,1:ncell(gpw4_2000)),getValues(gpw4_2000))
data<-na.omit(data)
colnames(data)<-c("long","lat","pop2000")
data2<-cbind(xyFromCell(gpw4_2005,1:ncell(gpw4_2005)),getValues(gpw4_2005))
data2<-na.omit(data2)
colnames(data2)<-c("long","lat","pop2005")
data3<-cbind(xyFromCell(gpw4_2010,1:ncell(gpw4_2010)),getValues(gpw4_2010))
data3<-na.omit(data3)
colnames(data3)<-c("long","lat","pop2010")
data4<-cbind(xyFromCell(gpw4_2015,1:ncell(gpw4_2015)),getValues(gpw4_2015))
data4<-na.omit(data4)
colnames(data4)<-c("long","lat","pop2015")
data_final<-merge(data,data2,by.x="long",by.y="lat")
View(data_final)
data_final<-merge(data,data2,by=c("long","lat"))
View(data_final)
data_final<-merge(data_final,data3,by=c("long","lat"))
data_final<-merge(data_final,data4,by=c("long","lat"))
View(data_final)
data5<-cbind(xyFromCell(growth_00_05,1:ncell(growth_00_05)),getValues(growth_00_05))
data5<-na.omit(data5)
colnames(data4)<-c("long","lat","growth00_05")
colnames(data4)<-c("long","lat","pop2015")
colnames(data5)<-c("long","lat","growth00_05")
data<-cbind(xyFromCell(gpw4_2000,1:ncell(gpw4_2000)),getValues(gpw4_2000))
data<-na.omit(data)
colnames(data)<-c("long","lat","pop2000")
data2<-cbind(xyFromCell(gpw4_2005,1:ncell(gpw4_2005)),getValues(gpw4_2005))
data2<-na.omit(data2)
colnames(data2)<-c("long","lat","pop2005")
data3<-cbind(xyFromCell(gpw4_2010,1:ncell(gpw4_2010)),getValues(gpw4_2010))
data3<-na.omit(data3)
colnames(data3)<-c("long","lat","pop2010")
data4<-cbind(xyFromCell(gpw4_2015,1:ncell(gpw4_2015)),getValues(gpw4_2015))
data4<-na.omit(data4)
colnames(data4)<-c("long","lat","pop2015")
data5<-cbind(xyFromCell(growth_00_05,1:ncell(growth_00_05)),getValues(growth_00_05))
data5<-na.omit(data5)
colnames(data5)<-c("long","lat","growth05")
data6<-cbind(xyFromCell(growth_05_10,1:ncell(growth_05_10)),getValues(growth_05_10))
data6<-na.omit(data6)
colnames(data6)<-c("long","lat","growth10")
data7<-cbind(xyFromCell(growth_10_15,1:ncell(growth_10_15)),getValues(growth_10_15))
data7<-na.omit(data7)
colnames(data7)<-c("long","lat","growth15")
data_final<-merge(data,data2,by=c("long","lat"))
data_final<-merge(data_final,data3,by=c("long","lat"))
data_final<-merge(data_final,data4,by=c("long","lat"))
data_final<-merge(data_final,data5,by=c("long","lat"))
data_final<-merge(data_final,data6,by=c("long","lat"))
data_final<-merge(data_final,data7,by=c("long","lat"))
data_final[,7]<-1
data<-cbind(xyFromCell(gpw4_2000,1:ncell(gpw4_2000)),getValues(gpw4_2000))
data<-na.omit(data)
colnames(data)<-c("long","lat","pop2000")
data2<-cbind(xyFromCell(gpw4_2005,1:ncell(gpw4_2005)),getValues(gpw4_2005))
data2<-na.omit(data2)
colnames(data2)<-c("long","lat","pop2005")
data3<-cbind(xyFromCell(gpw4_2010,1:ncell(gpw4_2010)),getValues(gpw4_2010))
data3<-na.omit(data3)
colnames(data3)<-c("long","lat","pop2010")
data4<-cbind(xyFromCell(gpw4_2015,1:ncell(gpw4_2015)),getValues(gpw4_2015))
data4<-na.omit(data4)
colnames(data4)<-c("long","lat","pop2015")
data5<-cbind(xyFromCell(growth_00_05,1:ncell(growth_00_05)),getValues(growth_00_05))
data5<-na.omit(data5)
colnames(data5)<-c("long","lat","growth05")
data6<-cbind(xyFromCell(growth_05_10,1:ncell(growth_05_10)),getValues(growth_05_10))
data6<-na.omit(data6)
colnames(data6)<-c("long","lat","growth10")
data7<-cbind(xyFromCell(growth_10_15,1:ncell(growth_10_15)),getValues(growth_10_15))
data7<-na.omit(data7)
colnames(data7)<-c("long","lat","growth15")
data_final<-merge(data,data2,by=c("long","lat"))
data_final<-merge(data_final,data3,by=c("long","lat"))
data_final<-merge(data_final,data4,by=c("long","lat"))
data_final<-merge(data_final,data5,by=c("long","lat"))
data_final<-merge(data_final,data6,by=c("long","lat"))
data_final<-merge(data_final,data7,by=c("long","lat"))
data_final[,10]<-1
colnames(data_final)[10]<-"id"
ggplot()+geom_map(data=data_final,map=data_final,aes(x=long,y=lat,map_id=id,fill=pop2000))
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id)+geom_map(data=data_final,map=data_final,aes(x=long,y=lat,map_id=id,fill=pop2000))
class(data)
class(data2)
rasterToPolygons
rasterToPoints
####Testing 2.0#####
f<-list.files(path= "~/Documents/W_M/Year_1/2017_Summer/Monroe_Project",pattern="*.tif",recursive=TRUE)
files<-lapply(f, function(i) paste("~/Documents/W_M/Year_1/2017_Summer/Monroe_Project/",i,sep=""))
files<-files[c(1,3)]
gpw4<-stack(lapply(files, function(i) raster(i,band=1)))
test<-raster(files[[2]])
test_val<-getValues(test)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_map(data=data_final,map=data_final,aes(x=long,y=lat,map_id=id,fill=pop2000))
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,map=data_final,aes(x=long,y=lat,fill=pop2000))
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,aes(x=long,y=lat,fill=pop2000))
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,aes(x=long,y=lat,fill=pop2000),cex=.1)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,aes(x=long,y=lat,fill=pop2000),cex=.01)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,aes(x=long,y=lat,fill=pop2000),cex=.001)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,aes(x=long,y=lat,fill=pop2000),cex=.00001)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,aes(x=long,y=lat,fill=pop2000),cex=.0000001)
data_final[,10]<-1:nrow(data_final)
colnames(data_final)[10]<-"id"
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_map(data=data_final,map=data_final,aes(x=long,y=lat,map_id=id,fill=pop2000))
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_map(data=data_final,map=data_final,aes(x=long,y=lat,map_id=id,fill=pop2005))
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapoing=data_final,aes(x=long,y=lat,fill=pop2005),cex=.00001)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=data_final,aes(x=long,y=lat,fill=pop2005),cex=.00001)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=aes(x=long,y=lat,fill=pop2005),cex=.00001)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=aes(x=long,y=lat,fill=log(pop2005)),cex=.00001)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=aes(x=long,y=lat,fill=log(pop2005)),cex=.0000000001)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=aes(x=long,y=lat,fill=log(pop2005),cex=.0001))
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=aes(x=long,y=lat,fill=log(pop2005),size=.001))
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=aes(x=long,y=lat,fill=log(pop2005)),size=.001)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=aes(x=long,y=lat,fill=log(pop2005)),size=.000000000000001)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=aes(x=long,y=lat,fill=log(pop2005)),size=10)
ggplot()+geom_map(data=country_f,map=country_f,aes(x=long,y=lat,map_id=id))+geom_point(data=data_final,mapping=aes(x=long,y=lat,fill=log(pop2005)),size=.000000000000000000000000000000000001)
plot(x=data_final$long,y=data_final$lat)
plot(x=data_final$long,y=data_final$lat,color=data_final$pop2000)
plot(x=data_final$long,y=data_final$lat,colour=data_final$pop2000)
plot(x=country_f$long,y=country_f$lat)
polygon(x=country_f$long,y=country_f$lat)
plot.new()
polygon(x=country_f$long,y=country_f$lat)
point(x=data_final$long,y=data_final$lat,col = data_final$pop2000)
points(x=data_final$long,y=data_final$lat,col = data_final$pop2000)
plot.new()
points(x=data_final$long,y=data_final$lat,col = data_final$pop2000)
